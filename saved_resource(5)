AUI.add("liferay-menu-toggle",function(a){var c=a.Lang;var d="menutoggle";var b=a.Component.create({ATTRS:{content:{validator:"_validateContent"},toggle:{validator:c.isBoolean,value:false},toggleTouch:{validator:c.isBoolean,value:false},trigger:{validator:c.isString}},NAME:d,NS:d,prototype:{initializer:function(f){var e=this;var g=e.get("trigger");e._handleId=g+"Handle";e._triggerNode=a.one(g);e._content=a.all(e.get("content"));a.Event.defineOutside("touchend");e._bindUI()},_bindUI:function(){var e=this;if(e._triggerNode){e._triggerNode.on(["keyup","tap"],function(f){if((f.type=="tap")||f.isKeyInSet("ENTER","SPACE")){e._toggleMenu(f,f.currentTarget)}})}},_getEventOutside:function(e){var f=e._event.type;f=f.toLowerCase();if(f.indexOf("pointerup")>-1){f="mouseup"}else{if(f.indexOf("touchend")>-1){f="mouseover"}}f=f+"outside";return f},_isContent:function(f){var e=this;return e._content.some(function(h,g,i){return h.contains(f)})},_isTouchEvent:function(e){return(e._event.type==="touchend"&&Liferay.Util.isTablet())},_toggleContent:function(f){var e=this;e._content.toggleClass("open",f)},_toggleMenu:function(f,l){var m=this;var i=m.get("toggle");var e=m.get("toggleTouch");var g=m._handleId;m._toggleContent();var k=m._content.item(0).hasClass("open");if(!i){var j=Liferay.Data[g];if(k&&!j){j=l.on(m._getEventOutside(f),function(n){if(e){e=m._isTouchEvent(n)}if(!e&&!m._isContent(n.target)){Liferay.Data[g]=null;j.detach();m._toggleContent(false)}})}else{if(j){j.detach();j=null}}Liferay.Data[g]=j}else{var h={};h[g]=k?"open":"closed";Liferay.Store(h)}},_validateContent:function(f){var e=this;return c.isString(f)||c.isArray(f)||a.instanceOf(f,a.Node)}}});Liferay.MenuToggle=b},"",{requires:["aui-node","event-outside","event-tap","liferay-store"]});YUI.add("datatable-table",function(e,t){var n=e.Array,r=e.Lang,i=r.sub,s=r.isArray,o=r.isFunction;e.namespace("DataTable").TableView=e.Base.create("table",e.View,[],{CAPTION_TEMPLATE:'<caption class="{className}"/>',TABLE_TEMPLATE:'<table cellspacing="0" class="{className}"/>',getCell:function(){return this.body&&this.body.getCell&&this.body.getCell.apply(this.body,arguments)},getClassName:function(){var t=this.host,r=t&&t.constructor.NAME||this.constructor.NAME;return t&&t.getClassName?t.getClassName.apply(t,arguments):e.ClassNameManager.getClassName.apply(e.ClassNameManager,[r].concat(n(arguments,0,!0)))},getRecord:function(){return this.body&&this.body.getRecord&&this.body.getRecord.apply(this.body,arguments)},getRow:function(){return this.body&&this.body.getRow&&this.body.getRow.apply(this.body,arguments)},_afterSummaryChange:function(e){this._uiSetSummary(e.newVal)},_afterCaptionChange:function(e){this._uiSetCaption(e.newVal)},_afterWidthChange:function(e){this._uiSetWidth(e.newVal)},_bindUI:function(){var t;this._eventHandles||(t=e.bind("_relayAttrChange",this),this._eventHandles=this.after({columnsChange:t,modelListChange:t,summaryChange:e.bind("_afterSummaryChange",this),captionChange:e.bind("_afterCaptionChange",this),widthChange:e.bind("_afterWidthChange",this)}))},_createTable:function(){return e.Node.create(i(this.TABLE_TEMPLATE,{className:this.getClassName("table")})).empty()},_defRenderBodyFn:function(e){e.view.render()},_defRenderFooterFn:function(e){e.view.render()},_defRenderHeaderFn:function(e){e.view.render()},_defRenderTableFn:function(t){var n=this.get("container"),r=this.getAttrs();this.tableNode||(this.tableNode=this._createTable()),r.host=this.get("host")||this,r.table=this,r.container=this.tableNode,this._uiSetCaption(this.get("caption")),this._uiSetSummary(this.get("summary")),this._uiSetWidth(this.get("width"));if(this.head||t.headerView)this.head||(this.head=new t.headerView(e.merge(r,t.headerConfig))),this.fire("renderHeader",{view:this.head});if(this.foot||t.footerView)this.foot||(this.foot=new t.footerView(e.merge(r,t.footerConfig))),this.fire("renderFooter",{view:this.foot});r.columns=this.displayColumns;if(this.body||t.bodyView)this.body||(this.body=new t.bodyView(e.merge(r,t.bodyConfig))),this.fire("renderBody",{view:this.body});n.contains(this.tableNode)||n.append(this.tableNode),this._bindUI()},destructor:function(){this.head&&this.head.destroy&&this.head.destroy(),delete this.head,this.foot&&this.foot.destroy&&this.foot.destroy(),delete this.foot,this.body&&this.body.destroy&&this.body.destroy(),delete this.body,this._eventHandles&&(this._eventHandles.detach(),delete this._eventHandles),this.tableNode&&this.tableNode.remove().destroy(!0)},_extractDisplayColumns:function(){function n(e){var r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],s(o.children)?n(o.children):t.push(o)}var e=this.get("columns"),t=[];e&&n(e),this.displayColumns=t},_initEvents:function(){this.publish({renderTable:{defaultFn:e.bind("_defRenderTableFn",this)},renderHeader:{defaultFn:e.bind("_defRenderHeaderFn",this)},renderBody:{defaultFn:e.bind("_defRenderBodyFn",this)},renderFooter:{defaultFn:e.bind("_defRenderFooterFn",this)}})},initializer:function(e){this.host=e.host,this._initEvents(),this._extractDisplayColumns(),this.after("columnsChange",this._extractDisplayColumns,this)},_relayAttrChange:function(e){var t=e.attrName,n=e.newVal;this.head&&this.head.set(t,n),this.foot&&this.foot.set(t,n),this.body&&(t==="columns"&&(n=this.displayColumns),this.body.set(t,n))},render:function(){return this.get("container")&&this.fire("renderTable",{headerView:this.get("headerView"),headerConfig:this.get("headerConfig"),bodyView:this.get("bodyView"),bodyConfig:this.get("bodyConfig"),footerView:this.get("footerView"),footerConfig:this.get("footerConfig")}),this},_uiSetCaption:function(t){var n=this.tableNode,r=this.captionNode;t?(r||(this.captionNode=r=e.Node.create(i(this.CAPTION_TEMPLATE,{className:this.getClassName("caption")})),n.prepend(this.captionNode)),r.setHTML(t)):r&&(r.remove(!0),delete this.captionNode)},_uiSetSummary:function(e){e?this.tableNode.setAttribute("summary",e):this.tableNode.removeAttribute("summary")},_uiSetWidth:function(e){var t=this.tableNode;t.setStyle("width",e?this.get("container").get("offsetWidth")-(parseInt(t.getComputedStyle("borderLeftWidth"),10)||0)-(parseInt(t.getComputedStyle("borderLeftWidth"),10)||0)+"px":""),t.setStyle("width",e)},_validateView:function(e){return o(e)&&e.prototype.render}},{ATTRS:{columns:{validator:s},width:{value:"",validator:r.isString},headerView:{value:e.DataTable.HeaderView,validator:"_validateView"},footerView:{validator:"_validateView"},bodyView:{value:e.DataTable.BodyView,validator:"_validateView"}}})},"patched-v3.11.0",{requires:["datatable-core","datatable-head","datatable-body","view","classnamemanager"]});YUI.add("aui-datatable-core",function(e,t){e.DataTable.NAME="table",e.DataTable.CSS_PREFIX="table"},"2.0.0",{requires:["datatable-base","event-key","aui-event-base"],skinnable:!0});AUI.add("liferay-layout",function(a){var e=Liferay.Util;var g="portlet-draggable";var d="liferay-layout-column";if(themeDisplay.isFreeformLayout()){d="liferay-layout-freeform"}var f=Liferay.Data.layoutConfig;var c={EMPTY_COLUMNS:{},INITIALIZED:false,OVER_NESTED_PORTLET:false,PORTLET_TOPPER:a.Node.create('<div class="portlet-topper"></div>'),PROXY_NODE:a.Node.create('<div class="lfr-portlet-proxy sortable-layout-proxy"></div>'),PROXY_NODE_ITEM:a.Node.create('<div class="lfr-portlet-proxy sortable-layout-proxy"><div class="portlet-topper"><span class="portlet-title"></span></div></div>'),options:f,bindDragDropListeners:function(){var h=c.getLayoutHandler();h.on("drag:end",a.bind("_onPortletDragEnd",c));h.on("drag:start",a.bind("_onPortletDragStart",c))},closeNestedPortlets:function(i){var h=i.all(".portlet-boundary");h.each(function(j){Liferay.Portlet.close(j,true)})},findIndex:function(j){var i=c.options;var h=j.get("parentNode");return h.all("> "+i.portletBoundary).indexOf(j)},findReferencePortlet:function(m){var l=c.options.portletBoundary;var j=m.all(">"+l);var n=j.item(0);var k=null;if(n){var i=null;var h=n.isStatic;if(!h||(h=="end")){k=n}else{j.each(function(p){var o=p.isStatic;if(!o||(i&&o&&(o!=i))){k=p}i=o})}}return k},fire:function(){var h=c.getLayoutHandler();if(h){return h.fire.apply(h,arguments)}},getActiveDropContainer:function(){var h=c.options;return a.all(h.dropContainer+":not(."+h.disabledDropContainerClass+")").item(0)},getActiveDropNodes:function(){var i=c.options;var h=[];a.all(i.dropContainer).each(function(j){if(!j.hasClass(i.disabledDropContainerClass)){h.push(j.get("parentNode"))}});return a.all(h)},getLayoutHandler:function(){if(!c.layoutHandler){Liferay.fire("initLayout")}return c.layoutHandler},getPortlets:function(){var h=c.options;return a.all(h.dragNodes)},hasMoved:function(k){var j=false;var l=c.curPortletInfo;if(l){var h=c.findIndex(k);var i=k.get("parentNode");if((l.originalParent!=i)||(l.originalIndex!=h)){j=true}}return j},hasPortlets:function(i){var h=c.options;return !!i.one(h.portletBoundary)},on:function(){var h=c.getLayoutHandler();if(h){return h.on.apply(h,arguments)}},refresh:function(i){var h=c.getLayoutHandler();i=a.one(i);if(i&&h){h.delegate.syncTargets();c.updatePortletDropZones(i)}},saveIndex:function(j,l){var i=e.getColumnId(l.get("id"));var k=e.getPortletId(j.get("id"));var h=c.findIndex(j);if(c.hasMoved(j)){Liferay.fire("portletMoved",{portlet:j,portletId:k,position:h});c.saveLayout({cmd:"move",p_p_col_id:i,p_p_col_pos:h,p_p_id:k})}},syncDraggableClassUI:function(){var i=c.options;if(i.dragNodes){var h=a.all(i.dragNodes);if(i.invalid){h=h.filter(":not("+i.invalid+")")}h.addClass(g)}},syncEmptyColumnClassUI:function(l){var r=c.options;var i=c.curPortletInfo;if(i){var p=r.emptyColumnClass;var k=i.originalParent;var h=c.hasPortlets(l);var m=c.hasPortlets(k);var n=l.ancestor(r.dropNodes);var q=k.ancestor(r.dropNodes);if(n){var o=n.get("id");c.EMPTY_COLUMNS[o]=!h}if(q){var j=q.get("id");c.EMPTY_COLUMNS[j]=!m}l.toggleClass(p,!h);k.toggleClass(p,!m)}},updateCurrentPortletInfo:function(i){var h=c.options;c.curPortletInfo={node:i,originalIndex:c.findIndex(i),originalParent:i.get("parentNode"),siblingsPortlets:i.siblings(h.portletBoundary)}},updateEmptyColumnsInfo:function(){var h=c.options;a.all(h.dropNodes).each(function(i){var j=i.get("id");c.EMPTY_COLUMNS[j]=!c.hasPortlets(i)})},updatePortletDropZones:function(k){var i=c.options;var j=k.all(i.dropNodes);var h=c.getLayoutHandler();j.each(function(l){h.addDropNode(l)})},_afterPortletClose:function(i){var h=i.column;if(h){c.syncEmptyColumnClassUI(h)}},_getPortletTitle:a.cached(function(l){var j=a.one("#"+l);var h=j.one(".portlet-title");if(!h){h=c.PROXY_NODE_ITEM.one(".portlet-title");var k=j.one(".portlet-title-default");var i="";if(k){i=k.html()}h.html(i)}return h.outerHTML()}),_onPortletClose:function(i){var j=i.portlet;var h=j.ancestor(c.options.dropContainer);c.updateCurrentPortletInfo(j);if(j.test(".portlet-nested-portlets")){c.closeNestedPortlets(j)}i.column=h},_onPortletDragEnd:function(i){var j=i.target.get("node");var h=j.get("parentNode");c.saveIndex(j,h);c.syncEmptyColumnClassUI(h)},_onPortletDragStart:function(h){var i=h.target.get("node");c.updateCurrentPortletInfo(i)}};Liferay.provide(c,"init",function(i){i=i||c.options;i.handles=a.Array(i.handles);c.PROXY_NODE.append(c.PORTLET_TOPPER);var h=i.container;c._layoutContainer=a.one(h);c.DEFAULT_LAYOUT_OPTIONS={columnContainer:h,delegateConfig:{container:h,dragConfig:{clickPixelThresh:0,clickTimeThresh:250,plugins:[{cfg:{horizontal:false,scrollDelay:30},fn:a.Plugin.DDWinScroll}]},handles:i.handles,invalid:i.invalid},dragNodes:i.dragNodes,dropContainer:function(j){return j.one(i.dropContainer)},dropNodes:c.getActiveDropNodes(),lazyStart:true,proxy:{resizeFrame:false}};c.register();c.bindDragDropListeners();c.updateEmptyColumnsInfo();Liferay.after("closePortlet",c._afterPortletClose);Liferay.on("closePortlet",c._onPortletClose);c.INITIALIZED=true},[d]);Liferay.provide(c,"saveLayout",function(h){var i={doAsUserId:themeDisplay.getDoAsUserIdEncoded(),p_auth:Liferay.authToken,p_l_id:themeDisplay.getPlid()};a.mix(i,h);a.io.request(themeDisplay.getPathMain()+"/portal/update_layout",{after:{success:function(){Liferay.fire("updatedLayout")}},data:i})},["aui-io-request"]);Liferay.provide(c,"updateOverNestedPortletInfo",function(){var j=a.DD.DDM.activeDrop;var k=c.options.nestedPortletId;if(j){var i=j.get("node");var h=i.get("id");c.OVER_NESTED_PORTLET=(h.indexOf(k)>-1)}},["dd-ddm"]);if(f){var b=a.one(f.container);Liferay.once("initLayout",function(){c.init()});if(b){if(!a.UA.touch){b.once("mousemove",function(){Liferay.fire("initLayout")})}else{Liferay.fire("initLayout")}}}Liferay.Layout=c},"",{requires:[]});YUI.add("datatable-head",function(e,t){var n=e.Lang,r=n.sub,i=n.isArray,s=e.Array;e.namespace("DataTable").HeaderView=e.Base.create("tableHeader",e.View,[],{CELL_TEMPLATE:'<th id="{id}" colspan="{_colspan}" rowspan="{_rowspan}" class="{className}" scope="col" {_id}{abbr}{title}>{content}</th>',ROW_TEMPLATE:"<tr>{content}</tr>",THEAD_TEMPLATE:'<thead class="{className}"></thead>',getClassName:function(){var t=this.host,n=t&&t.constructor.NAME||this.constructor.NAME;return t&&t.getClassName?t.getClassName.apply(t,arguments):e.ClassNameManager.getClassName.apply(e.ClassNameManager,[n].concat(s(arguments,0,!0)))},render:function(){var t=this.get("container"),n=this.theadNode||(this.theadNode=this._createTHeadNode()),i=this.columns,s={_colspan:1,_rowspan:1,abbr:"",title:""},o,u,a,f,l,c,h,p;if(n&&i){c="";if(i.length)for(o=0,u=i.length;o<u;++o){h="";for(a=0,f=i[o].length;a<f;++a)l=i[o][a],p=e.merge(s,l,{className:this.getClassName("header"),content:l.label||l.key||"Column "+(a+1)}),p._id=l._id?' data-yui3-col-id="'+l._id+'"':"",l.abbr&&(p.abbr=' abbr="'+l.abbr+'"'),l.title&&(p.title=' title="'+l.title+'"'),l.className&&(p.className+=" "+l.className),l._first&&(p.className+=" "+this.getClassName("first","header")),l._id&&(p.className+=" "+this.getClassName("col",l._id)),h+=r(l.headerTemplate||this.CELL_TEMPLATE,p);c+=r(this.ROW_TEMPLATE,{content:h})}n.setHTML(c),n.get("parentNode")!==t&&t.insertBefore(n,t.one("tfoot, tbody"))}return this.bindUI(),this},_afterColumnsChange:function(e){this.columns=this._parseColumns(e.newVal),this.render()},bindUI:function(){this._eventHandles.columnsChange||(this._eventHandles.columnsChange=this.after("columnsChange",e.bind("_afterColumnsChange",this)))},_createTHeadNode:function(){return e.Node.create(r(this.THEAD_TEMPLATE,{className:this.getClassName("columns")}))},destructor:function(){(new e.EventHandle(e.Object.values(this._eventHandles))).detach()},initializer:function(e){this.host=e.host,this.columns=this._parseColumns(e.columns),this._eventHandles=[]},_parseColumns:function(t){var n=[],r=[],s=1,o,u,a,f,l,c,h,p;if(i(t)&&t.length){t=t.slice(),r.push([t,-1]);while(r.length){o=r[r.length-1],u=o[0],c=o[1]+1;for(h=u.length;c<h;++c){u[c]=a=e.merge(u[c]),f=a.children,e.stamp(a),a.id||(a.id=e.guid());if(i(f)&&f.length){r.push([f,-1]),o[1]=c,s=Math.max(s,r.length);break}a._colspan=1}if(c>=h){if(r.length>1){o=r[r.length-2],l=o[0][o[1]],l._colspan=0;for(c=0,h=u.length;c<h;++c)u[c]._parent=l,l._colspan+=u[c]._colspan}r.pop()}}for(c=0;c<s;++c)n.push([]);r.push([t,-1]);while(r.length){o=r[r.length-1],u=o[0],c=o[1]+1;for(h=u.length;c<h;++c){a=u[c],f=a.children,n[r.length-1].push(a),o[1]=c,a._headers=[a.id];for(p=r.length-2;p>=0;--p)l=r[p][0][r[p][1]],a._headers.unshift(l.id);if(f&&f.length){r.push([f,-1]);break}a._rowspan=s-r.length+1}c>=h&&r.pop()}}for(c=0,h=n.length;c<h;c+=a._rowspan)a=n[c][0],a._first=!0;return n}})},"patched-v3.11.0",{requires:["datatable-core","view","classnamemanager"]});YUI.add("model",function(e,t){function l(){l.superclass.constructor.apply(this,arguments)}var n=YUI.namespace("Env.Model"),r=e.Lang,i=e.Array,s=e.Object,o="change",u="error",a="load",f="save";e.Model=e.extend(l,e.Base,{idAttribute:"id",_allowAdHocAttrs:!0,_isYUIModel:!0,initializer:function(e){this.changed={},this.lastChange={},this.lists=[]},destroy:function(e,t){var n=this;return typeof e=="function"&&(t=e,e=null),n.onceAfter("destroy",function(){function r(r){r||i.each(n.lists.concat(),function(t){t.remove(n,e)}),t&&t.apply(null,arguments)}e&&(e.remove||e["delete"])?n.sync("delete",e,r):r()}),l.superclass.destroy.call(n)},generateClientId:function(){return n.lastId||(n.lastId=0),this.constructor.NAME+"_"+(n.lastId+=1)},getAsHTML:function(t){var n=this.get(t);return e.Escape.html(r.isValue(n)?String(n):"")},getAsURL:function(e){var t=this.get(e);return encodeURIComponent(r.isValue(t)?String(t):"")},isModified:function(){return this.isNew()||!s.isEmpty(this.changed)},isNew:function(){return!r.isValue(this.get("id"))},load:function(e,t){var n=this;return typeof e=="function"&&(t=e,e={}),e||(e={}),n.sync("read",e,function(r,i){var s={options:e,response:i},o;r?(s.error=r,s.src="load",n.fire(u,s)):(n._loadEvent||(n._loadEvent=n.publish(a,{preventable:!1})),o=s.parsed=n._parse(i),n.setAttrs(o,e),n.changed={},n.fire(a,s)),t&&t.apply(null,arguments)}),n},parse:function(t){if(typeof t=="string")try{return e.JSON.parse(t)}catch(n){return this.fire(u,{error:n,response:t,src:"parse"}),null}return t},save:function(e,t){var n=this;return typeof e=="function"&&(t=e,e={}),e||(e={}),n._validate(n.toJSON(),function(r){if(r){t&&t.call(null,r);return}n.sync(n.isNew()?"create":"update",e,function(r,i){var s={options:e,response:i},o;r?(s.error=r,s.src="save",n.fire(u,s)):(n._saveEvent||(n._saveEvent=n.publish(f,{preventable:!1})),i&&(o=s.parsed=n._parse(i),n.setAttrs(o,e)),n.changed={},n.fire(f,s)),t&&t.apply(null,arguments)})}),n},set:function(e,t,n){var r={};return r[e]=t,this.setAttrs(r,n)},setAttrs:function(t,n){var r=this.idAttribute,i,u,a,f,l;n=e.merge(n),l=n._transaction={},r!=="id"&&(t=e.merge(t),s.owns(t,r)?t.id=t[r]:s.owns(t,"id")&&(t[r]=t.id));for(a in t)s.owns(t,a)&&this._setAttr(a,t[a],n);if(!s.isEmpty(l)){i=this.changed,f=this.lastChange={};for(a in l)s.owns(l,a)&&(u=l[a],i[a]=u.newVal,f[a]={newVal:u.newVal,prevVal:u.prevVal,src:u.src||null});n.silent||(this._changeEvent||(this._changeEvent=this.publish(o,{preventable:!1})),n.changed=f,this.fire(o,n))}return this},sync:function(){var e=i(arguments,0,!0).pop();typeof e=="function"&&e()},toJSON:function(){var e=this.getAttrs();return delete e.clientId,delete e.destroyed,delete e.initialized,this.idAttribute!=="id"&&delete e.id,e},undo:function(e,t){var n=this.lastChange,r=this.idAttribute,o={},u;return e||(e=s.keys(n)),i.each(e,function(e){s.owns(n,e)&&(e=e===r?"id":e,u=!0,o[e]=n[e].prevVal)}),u?this.setAttrs(o,t):this},validate:function(e,t){t&&t()},addAttr:function(e,t,n){var i=this.idAttribute,s,o;return i&&e===i&&(s=this._isLazyAttr("id")||this._getAttrCfg("id"),o=t.value===t.defaultValue?null:t.value,r.isValue(o)||(o=s.value===s.defaultValue?null:s.value,r.isValue(o)||(o=r.isValue(t.defaultValue)?t.defaultValue:s.defaultValue)),t.value=o,s.value!==o&&(s.value=o,this._isLazyAttr("id")?this._state.add("id","lazy",s):this._state.add("id","value",o))),l.superclass.addAttr.apply(this,arguments)},_parse:function(e){return this.parse(e)},_validate:function(e,t){function i(i){if(r.isValue(i)){n.fire(u,{attributes:e,error:i,src:"validate"}),t(i);return}t()}var n=this;n.validate.length===1?i(n.validate(e,i)):n.validate(e,i)},_setAttrVal:function(e,t,n,r,i,s){var o=l.superclass._setAttrVal.apply(this,arguments),u=i&&i._transaction,a=s&&s.initializing;return o&&u&&!a&&(u[e]={newVal:this.get(e),prevVal:n,src:i.src||null}),o}},{NAME:"model",ATTRS:{clientId:{valueFn:"generateClientId",readOnly:!0},id:{value:null}}})},"patched-v3.11.0",{requires:["base-build","escape","json-parse"]});AUI.add("liferay-navigation",function(d){var m=d.Node;var n=Liferay.Dockbar;var k=Liferay.Util;var h=d.Lang;var c=Liferay.STATUS_CODE;var j="";var g="layoutId";var f='<div class="add-page-editor"><div class="input-append"></div></div>';var l='<input class="add-page-editor-input" type="text" value="{0}" />';var b='<a href="{url}">{pageTitle}</a>';var e='<li class="add-page"></li>';var i='<a href="{url}"><span>{pageTitle}</span></a>';var a=d.Component.create({ATTRS:{hasAddLayoutPermission:{value:false},isAddable:{getter:function(p){var o=this;return o.get("hasAddLayoutPermission")&&o.get("navBlock").hasClass("modify-pages")},value:false},isModifiable:{getter:function(p){var o=this;return o.get("navBlock").hasClass("modify-pages")},value:false},isSortable:{getter:function(p){var o=this;return o.get("navBlock").hasClass("sort-pages")},value:false},layoutIds:{value:[]},layoutSetBranchId:{value:0},navBlock:{lazyAdd:false,setter:function(p){var o=this;p=d.one(p);if(!p){p=d.Attribute.INVALID_VALUE}return p},value:null}},EXTENDS:d.Base,NAME:"navigation",prototype:{TPL_DELETE_BUTTON:'<span class="delete-tab">&times;</span>',initializer:function(q){var w=this;var p=w.get("navBlock");if(p){w._updateURL=themeDisplay.getPathMain()+"/layouts_admin/update_page?p_auth="+Liferay.authToken;var v=Liferay.Data.NAV_LIST_SELECTOR||"> ul";var s=Liferay.Data.NAV_ITEM_SELECTOR||v+"> li";var o=p.one(v);var t=p.all(s);var u=w.get("layoutIds");var r=[];t.each(function(y,x,A){var z=u[x];if(z){y.setData(g,z.id);if(z.deletable){r.push("lfr-nav-deletable")}if(z.sortable){r.push("lfr-nav-sortable")}if(z.updateable){r.push("lfr-nav-updateable")}if(r.length){y.addClass(r.join(" "));r.length=0}}});w._navItemSelector=s;w._navListSelector=v;w._navList=o;w._makeDeletable();w._makeSortable();w._makeEditable();w._tempTab=w._createTempTab(i);w._tempChildTab=w._createTempTab(b);w.on("savePage",d.bind("_savePage",w));w.on("cancelPage",w._cancelPage);Liferay.on("dockbaraddpage:addPage",w._onAddPage,w);Liferay.on("dockbaraddpage:previewPageTitle",w._onPreviewPageTitle,w);p.delegate("keypress",d.bind("_onKeypress",w),"input")}},_afterMakeSortable:function(p){var o=this;p.delegate.dd.removeInvalid("a")},_cancelPage:function(s){var o=this;var p=s.actionNode;var r=s.toolbar;var t=s.field;var q=s.listItem;var u=o.get("navBlock");if(p){p.show();t.val(s.prevVal)}else{q.remove(true)}r.destroy();if(!u.one("li")){u.hide()}},_clearTempPage:function(){var o=this;o._tempTab.remove();o._tempChildTab.remove()},_createDeleteButton:function(p){var o=this;p.append(o.TPL_DELETE_BUTTON)},_createTempTab:function(p){var o=this;var q=h.sub(p,{pageTitle:j,url:"#"});var r=m.create("<li>");r.append(q);return r},_deleteButton:function(p){var o=this;if(!d.instanceOf(p,d.NodeList)){p=d.all(p)}p.each(function(r,q,s){if(r.hasClass("lfr-nav-deletable")){o._createDeleteButton(r)}})},_displayNotice:function(p,o,q,r){new Liferay.Notice({closeText:false,content:p+'<button type="button" class="close">&times;</button>',noticeClass:"hide",timeout:q||10000,toggleText:false,type:o||"warning",useAnimation:h.isValue(r)?r:true}).show()},_handleKeyDown:function(p){var o=this;var q=p.currentTarget;if(p.isKey("DELETE")&&!q.hasClass("selected")&&!q.ancestor("li.selected")){o._removePage(p)}},_hoverNavItem:function(p){var o=this;p.currentTarget.toggleClass("lfr-nav-hover",(p.type=="mouseenter"))},_makeDeletable:function(){var o=this;if(o.get("isModifiable")){var r=o.get("navBlock");var q=o._navItemSelector;var p=r.all(q).filter(function(t,s,u){return !t.hasClass("selected")});r.delegate(["click","touchstart"],d.bind("_removePage",o),".delete-tab");r.delegate("keydown",d.bind("_handleKeyDown",o),q);r.delegate(["mouseenter","mouseleave"],o._hoverNavItem,".lfr-nav-deletable",o);o._deleteButton(p)}},_makeEditable:function(){var o=this;if(o.get("isModifiable")){var r=o.get("navBlock").one("li.selected.lfr-nav-updateable");if(r){var q=r.one("a");if(q){var p=q.one("span");if(p){q.on("click",function(s){if(s.shiftKey){s.halt()}});p.on("click",function(t){if((themeDisplay.isStateMaximized()&&!t.shiftKey)||t.target.hasClass("lfr-nav-child-toggle")){return}t.halt();var v=t.currentTarget;var s=v.get("parentNode");var u=v.text();o._createEditor(r,{actionNode:s,prevVal:u,textNode:v})})}}}}},_onAddPage:function(r){var x=this;var v=r.data;x._clearTempPage();var q=x.get("navBlock");q.show();var w=v.parentLayoutId?b:i;var o=h.sub(w,{pageTitle:v.title,url:v.url});var t=m.create(o);var p=v.parentLayoutId?m.create("<li>"):m.create(e);p.setData(g,v.layoutId);p.append(t);if(v.parentLayoutId){var s=q.one("#layout_"+v.parentLayoutId);if(s){var u=s.one("ul");if(u){u.append(p)}}}else{p.addClass("lfr-nav-deletable lfr-nav-sortable lfr-nav-updateable sortable-item");x._createDeleteButton(p);q.one("ul").append(p)}Liferay.fire("navigation",{item:p,type:"add"})},_onKeypress:function(r){var o=this;if(r.isKeyInSet("ENTER","ESC")){var q=r.currentTarget.ancestor("li");var p="savePage";if(r.isKey("ESC")){p="cancelPage"}q._toolbar.fire(p)}},_onPreviewPageTitle:function(r){var p=this;var s=r.data;if(s.name===j||s.hidden){p._clearTempPage()}else{var t=p.get("navBlock");if(!s.parentLayoutId){p._tempTab.one("span").text(s.name);t.one("ul").append(p._tempTab)}else{var o=t.one("#layout_"+s.parentLayoutId);if(o){var q=o.one("ul");if(q){p._tempChildTab.one("a").text(s.name);q.append(p._tempChildTab)}}}}},_optionsOpen:true,_updateURL:j}});Liferay.provide(a,"_createEditor",function(o,C){var z=this;var D=z._prototypeMenuTemplate||j;var p=h.trim(C.prevVal);if(C.actionNode){C.actionNode.hide()}var w=function(F){if(q){q.detach()}var E=F.type.split(":");E=E[1]||E[0];z.fire(E,C)};var A=[{icon:"icon-ok",on:{click:function(E){y.fire("savePage",C)}},title:'\u0047\u0068\u0069\u0020\u006c\u1ea1\u0069'}];if(D&&!p){A.unshift({icon:"icon-cog",on:{click:function(F){var E=F.currentTarget.get("boundingBox");var G=E.hasClass("active");v.set("visible",!G);E.toggleClass("active")}},title:'\u004c\u1ef1\u0061\u0020\u0063\u0068\u1ecd\u006e'})}var t=m.create(f);var q=t.on("clickoutside",function(E){q.detach();z.fire("cancelPage",C)});var x=t.one(".input-append");var y=new d.Toolbar({after:{destroy:function(E){z.fire("stopEditing");v.destroy();t.remove(true);if(q){q.detach()}},render:function(E){z.fire("startEditing")}},boundingBox:x,children:A}).render(t);y.get("contentBox").swallowEvent("click");var B;var v=new d.Popover({align:{points:["tc","bc"]},bodyContent:D,on:{visibleChange:function(F){var E=this;if(F.newVal&&!E.get("rendered")){E.set("align.node",B);E.render(t)}}},position:"bottom",zIndex:200});var s=v.get("contentBox");s.addClass("lfr-menu-list lfr-page-templates");s.swallowEvent("click");var u=m.create(h.sub(l,[p]));x.prepend(u);o.prepend(t);if(D&&z._optionsOpen&&!p){B=y.item(1).get("boundingBox");B.addClass("active");v.show()}C.listItem=o;C.optionsPopover=v;C.toolbar=y;C.field=t.one("input");y.on(["cancelPage","savePage"],w);y._optionsPopover=v;o._toolbar=y;k.focusFormField(u);var r=d.bind("fire",v,"align");v.on("visibleChange",r);z.on(["startEditing","stopEditing"],r);if(p){z.fire("editPage")}},["aui-toolbar","aui-popover","event-outside"],true);Liferay.provide(a,"_makeSortable",function(){var o=this;if(o.get("isSortable")){var p=new d.Sortable({container:o._navList,moveType:"move",nodes:".lfr-nav-sortable",opacity:".5",opacityNode:"currentNode"});p.delegate.on("drag:end",function(q){var r=q.target.get("node");o._saveSortables(r)});p.delegate.on("drag:start",function(q){var s=q.target;var r=s.get("dragNode");r.addClass("lfr-navigation-proxy");o._nextPageNode=s.get("node").next()});o._afterMakeSortable(p)}},["dd-constrain","sortable"],true);Liferay.provide(a,"_removePage",function(r){var o=this;var u=o.get("navBlock");var q=r.currentTarget.ancestor("li");if(confirm('\u0042\u1ea1\u006e\u0020\u0063\u00f3\u0020\u0063\u0068\u1eaf\u0063\u0020\u0063\u0068\u1eaf\u006e\u0020\u006c\u00e0\u0020\u006d\u0075\u1ed1\u006e\u0020\u0078\u00f3\u0061\u0020\u0074\u0072\u0061\u006e\u0067\u0020\u006e\u00e0\u0079\u0020\u003f')){var t=function(v){o._displayNotice(v.message)};var p=function(v){Liferay.fire("navigation",{item:q,type:"delete"});q.remove(true);if(!u.one("ul li")){u.hide()}};var s={cmd:"delete",doAsUserId:themeDisplay.getDoAsUserIdEncoded(),groupId:themeDisplay.getSiteGroupId(),layoutId:q.getData(g),layoutSetBranchId:o.get("layoutSetBranchId"),p_auth:Liferay.authToken,privateLayout:themeDisplay.isPrivateLayout()};d.io.request(o._updateURL,{data:s,dataType:"json",on:{failure:function(){t({message:'\u0059\u00ea\u0075\u0020\u0063\u1ea7\u0075\u0020\u0063\u1ee7\u0061\u0020\u0062\u1ea1\u006e\u0020\u0111\u00e3\u0020\u0111\u01b0\u1ee3\u0063\u0020\u0078\u1eed\u0020\u006c\u00fd\u0020\u006b\u0068\u00f4\u006e\u0067\u0020\u0074\u0068\u00e0\u006e\u0068\u0020\u0063\u00f4\u006e\u0067\u002e',status:c.BAD_REQUEST})},success:function(w,z,x){var v=this.get("responseData");var y=t;if(v.status===c.OK){y=p}y(v)}}})}},["aui-io-request","liferay-notice"],true);Liferay.provide(a,"_savePage",function(p,t){var z=this;var y=p.actionNode;var x=p.toolbar;var w=p.field;var o=p.listItem;var q=p.textNode;var u=w.get("value");var r=h.trim(p.prevVal);u=h.trim(u);var s=null;var v=null;if(u){if(y){if(!u||u!=r){s={cmd:"name",doAsUserId:themeDisplay.getDoAsUserIdEncoded(),groupId:themeDisplay.getSiteGroupId(),languageId:themeDisplay.getLanguageId(),layoutId:themeDisplay.getLayoutId(),name:u,p_auth:Liferay.authToken,privateLayout:themeDisplay.isPrivateLayout()};v=function(C,F,E){var D=d.getDoc();q.text(u);y.show();x.destroy();var A=D.get("title");var B=new RegExp(r,"g");newTitle=A.replace(B,u);D.set("title",newTitle)}}else{x.fire("cancelPage")}}if(s){d.io.request(z._updateURL,{data:s,dataType:"json",on:{success:v}})}}},["aui-io-request"],true);Liferay.provide(a,"_saveSortables",function(p){var v=this;var t=-1;var q=p.next();if(q){t=q.getData(g)}var s=-1;var u=p.previous();if(u){s=u.getData(g)}var r={cmd:"priority",doAsUserId:themeDisplay.getDoAsUserIdEncoded(),groupId:themeDisplay.getSiteGroupId(),layoutId:p.getData(g),nextLayoutId:t,p_auth:Liferay.authToken,previousLayoutId:s,privateLayout:themeDisplay.isPrivateLayout()};var o=function(x){v._displayNotice(x.message);p.ancestor().insertBefore(p,v._nextPageNode)};var w=function(x){Liferay.fire("navigation",{item:p.getDOM(),type:"sort"})};d.io.request(v._updateURL,{data:r,dataType:"json",on:{failure:function(){o({message:'\u0059\u00ea\u0075\u0020\u0063\u1ea7\u0075\u0020\u0063\u1ee7\u0061\u0020\u0062\u1ea1\u006e\u0020\u0111\u00e3\u0020\u0111\u01b0\u1ee3\u0063\u0020\u0078\u1eed\u0020\u006c\u00fd\u0020\u006b\u0068\u00f4\u006e\u0067\u0020\u0074\u0068\u00e0\u006e\u0068\u0020\u0063\u00f4\u006e\u0067\u002e',status:c.BAD_REQUEST})},success:function(y,B,A){var x=this.get("responseData");var z=o;if(x.status===c.OK){z=w}z(x)}}})},["aui-io-request"],true);Liferay.Navigation=a},"",{requires:["aui-component"]});YUI.add("transition",function(e,t){var n="",r="",i=e.config.doc,s="documentElement",o=i[s].style,u="transition",a="transitionProperty",f,l,c,h,p,d,v={},m=["Webkit","Moz"],g={Webkit:"webkitTransitionEnd"},y=function(){this.init.apply(this,arguments)};y._TRANSFORM="transform",y._toCamel=function(e){return e=e.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}),e},y._toHyphen=function(e){return e=e.replace(/([A-Z]?)([a-z]+)([A-Z]?)/g,function(e,t,n,r){var i=(t?"-"+t.toLowerCase():"")+n;return r&&(i+="-"+r.toLowerCase()),i}),e},y.SHOW_TRANSITION="fadeIn",y.HIDE_TRANSITION="fadeOut",y.useNative=!1,"transition"in o&&"transitionProperty"in o&&"transitionDuration"in o&&"transitionTimingFunction"in o&&"transitionDelay"in o?(y.useNative=!0,y.supported=!0):e.Array.each(m,function(e){var t=e+"Transition";t in i[s].style&&(n=e,r=y._toHyphen(e)+"-",y.useNative=!0,y.supported=!0,y._VENDOR_PREFIX=e)}),typeof o.transform=="undefined"&&e.Array.each(m,function(e){var t=e+"Transform";typeof o[t]!="undefined"&&(y._TRANSFORM=t)}),n&&(u=n+"Transition",a=n+"TransitionProperty"),f=r+"transition-property",l=r+"transition-duration",c=r+"transition-timing-function",h=r+"transition-delay",p="transitionend",d="on"+n.toLowerCase()+"transitionend",p=g[n]||p,y.fx={},y.toggles={},y._hasEnd={},y._reKeywords=/^(?:node|duration|iterations|easing|delay|on|onstart|onend)$/i,e.Node.DOM_EVENTS[p]=1,y.NAME="transition",y.DEFAULT_EASING="ease",y.DEFAULT_DURATION=.5,y.DEFAULT_DELAY=0,y._nodeAttrs={},y.prototype={constructor:y,init:function(e,t){var n=this;return n._node=e,!n._running&&t&&(n._config=t,e._transition=n,n._duration="duration"in t?t.duration:n.constructor.DEFAULT_DURATION,n._delay="delay"in t?t.delay:n.constructor.DEFAULT_DELAY,n._easing=t.easing||n.constructor.DEFAULT_EASING,n._count=0,n._running=!1),n},addProperty:function(t,n){var r=this,i=this._node,s=e.stamp(i),o=e.one(i),u=y._nodeAttrs[s],a,f,l,c,h;u||(u=y._nodeAttrs[s]={}),c=u[t],n&&n.value!==undefined?h=n.value:n!==undefined&&(h=n,n=v),typeof h=="function"&&(h=h.call(o,o)),c&&c.transition&&c.transition!==r&&c.transition._count--,r._count++,l=(typeof n.duration!="undefined"?n.duration:r._duration)||1e-4,u[t]={value:h,duration:l,delay:typeof n.delay!="undefined"?n.delay:r._delay,easing:n.easing||r._easing,transition:r},a=e.DOM.getComputedStyle(i,t),f=typeof h=="string"?a:parseFloat(a),y.useNative&&f===h&&setTimeout(function(){r._onNativeEnd.call(i,{propertyName:t,elapsedTime:l})},l*1e3)},removeProperty:function(t){var n=this,r=y._nodeAttrs[e.stamp(n._node)];r&&r[t]&&(delete r[t],n._count--)},initAttrs:function(t){var n,r=this._node;t.transform&&!t[y._TRANSFORM]&&(t[y._TRANSFORM]=t.transform,delete t.transform);for(n in t)t.hasOwnProperty(n)&&!y._reKeywords.test(n)&&(this.addProperty(n,t[n]),r.style[n]===""&&e.DOM.setStyle(r,n,e.DOM.getComputedStyle(r,n)))},run:function(t){var n=this,r=n._node,i=n._config,s={type:"transition:start",config:i};return n._running||(n._running=!0,i.on&&i.on.start&&i.on.start.call(e.one(r),s),n.initAttrs(n._config),n._callback=t,n._start()),n},_start:function(){this._runNative()},_prepDur:function(e){return e=parseFloat(e)*1e3,e+"ms"},_runNative:function(){var t=this,n=t._node,r=e.stamp(n),i=n.style,s=n.ownerDocument.defaultView.getComputedStyle(n),o=y._nodeAttrs[r],u="",a=s[y._toCamel(f)],d=f+": ",v=l+": ",m=c+": ",g=h+": ",b,w,E;a!=="all"&&(d+=a+",",v+=s[y._toCamel(l)]+",",m+=s[y._toCamel(c)]+",",g+=s[y._toCamel(h)]+",");for(E in o)b=y._toHyphen(E),w=o[E],(w=o[E])&&w.transition===t&&(E in n.style?(v+=t._prepDur(w.duration)+",",g+=t._prepDur(w.delay)+",",m+=w.easing+",",d+=b+",",u+=b+": "+w.value+"; "):this.removeProperty(E));d=d.replace(/,$/,";"),v=v.replace(/,$/,";"),m=m.replace(/,$/,";"),g=g.replace(/,$/,";"),y._hasEnd[r]||(n.addEventListener(p,t._onNativeEnd,""),y._hasEnd[r]=!0),i.cssText+=d+v+m+g+u},_end:function(t){var n=this,r=n._node,i=n._callback,s=n._config,o={type:"transition:end",config:s,elapsedTime:t},u=e.one(r);n._running=!1,n._callback=null,r&&(s.on&&s.on.end?setTimeout(function(){s.on.end.call(u,o),i&&i.call(u,o)},1):i&&setTimeout(function(){i.call(u,o)},1))},_endNative:function(e){var t=this._node,n=t.ownerDocument.defaultView.getComputedStyle(t,"")[y._toCamel(f)];e=y._toHyphen(e),typeof n=="string"&&(n=n.replace(new RegExp("(?:^|,\\s)"+e+",?"),","),n=n.replace(/^,|,$/,""),t.style[u]=n)},_onNativeEnd:function(t){var n=this,r=e.stamp(n),i=t,s=y._toCamel(i.propertyName),o=i.elapsedTime,u=y._nodeAttrs[r],f=u[s],l=f?f.transition:null,c,h;l&&(l.removeProperty(s),l._endNative(s),h=l._config[s],c={type:"propertyEnd",propertyName:s,elapsedTime:o,config:h},h&&h.on&&h.on.end&&h.on.end.call(e.one(n),c),l._count<=0&&(l._end(o),n.style[a]=""))},destroy:function(){var e=this,t=e._node;t&&(t.removeEventListener(p,e._onNativeEnd,!1),e._node=null)}},e.Transition=y,e.TransitionNative=y,e.Node.prototype.transition=function(t,n,r){var i=y._nodeAttrs[e.stamp(this._node)],s=i?i.transition||null:null,o,u;if(typeof t=="string"){typeof n=="function"&&(r=n,n=null),o=y.fx[t];if(n&&typeof n!="boolean"){n=e.clone(n);for(u in o)o.hasOwnProperty(u)&&(u in n||(n[u]=o[u]))}else n=o}else r=n,n=t;return s&&!s._running?s.init(this,n):s=new y(this._node,n),s.run(r),this},e.Node.prototype.show=function(t,n,r){return this._show(),t&&e.Transition&&(typeof t!="string"&&!t.push&&(typeof n=="function"&&(r=n,n=t),t=y.SHOW_TRANSITION),this.transition(t,n,r)),this},e.NodeList.prototype.show=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])e.one(o).show(t,n,r);return this};var b=function(e,t,n){return function(){t&&t.call(e),n&&typeof n=="function"&&n.apply(e._node,arguments)}};e.Node.prototype.hide=function(t,n,r){return t&&e.Transition?(typeof n=="function"&&(r=n,n=null),r=b(this,this._hide,r),typeof t!="string"&&!t.push&&(typeof n=="function"&&(r=n,n=t),t=y.HIDE_TRANSITION),this.transition(t,n,r)):this._hide(),this},e.NodeList.prototype.hide=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])e.one(o).hide(t,n,r);return this},e.NodeList.prototype
.transition=function(t,n){var r=this._nodes,i=0,s;while(s=r[i++])e.one(s).transition(t,n);return this},e.Node.prototype.toggleView=function(t,n,r){this._toggles=this._toggles||[],r=arguments[arguments.length-1];if(typeof t!="string"){n=t,this._toggleView(n,r);return}return typeof n=="function"&&(n=undefined),typeof n=="undefined"&&t in this._toggles&&(n=!this._toggles[t]),n=n?1:0,n?this._show():r=b(this,this._hide,r),this._toggles[t]=n,this.transition(e.Transition.toggles[t][n],r),this},e.NodeList.prototype.toggleView=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])o=e.one(o),o.toggleView.apply(o,arguments);return this},e.mix(y.fx,{fadeOut:{opacity:0,duration:.5,easing:"ease-out"},fadeIn:{opacity:1,duration:.5,easing:"ease-in"},sizeOut:{height:0,width:0,duration:.75,easing:"ease-out"},sizeIn:{height:function(e){return e.get("scrollHeight")+"px"},width:function(e){return e.get("scrollWidth")+"px"},duration:.5,easing:"ease-in",on:{start:function(){var e=this.getStyle("overflow");e!=="hidden"&&(this.setStyle("overflow","hidden"),this._transitionOverflow=e)},end:function(){this._transitionOverflow&&(this.setStyle("overflow",this._transitionOverflow),delete this._transitionOverflow)}}}}),e.mix(y.toggles,{size:["sizeOut","sizeIn"],fade:["fadeOut","fadeIn"]})},"patched-v3.11.0",{requires:["node-style"]});(function(b,c){var a={};a.get=function(d){return d};b.use("io-base",function(d){a.get=d.cached(function(g,i){var e=this;var f=themeDisplay.getPathContext()+"/language/"+themeDisplay.getLanguageId()+"/"+g+"/";if(i){if(typeof i=="string"){f+=i}else{if(c.Util.isArray(i)){f+=i.join("/")}}}var h={"X-CSRF-Token":c.authToken};d.io(f,{headers:h,method:"GET",on:{complete:function(j,k){value=k.responseText}},sync:true});return value})});c.Language=a})(AUI(),Liferay);YUI.add("view",function(e,t){function n(){n.superclass.constructor.apply(this,arguments)}e.View=e.extend(n,e.Base,{containerTemplate:"<div/>",events:{},template:"",_allowAdHocAttrs:!0,initializer:function(t){t||(t={}),t.containerTemplate&&(this.containerTemplate=t.containerTemplate),t.template&&(this.template=t.template),this.events=t.events?e.merge(this.events,t.events):this.events,this.after("containerChange",this._afterContainerChange)},destroy:function(e){return e&&(e.remove||e["delete"])&&this.onceAfter("destroy",function(){this._destroyContainer()}),n.superclass.destroy.call(this)},destructor:function(){this.detachEvents(),delete this._container},attachEvents:function(t){var n=this.get("container"),r=e.Object.owns,i,s,o,u;this.detachEvents(),t||(t=this.events);for(u in t){if(!r(t,u))continue;s=t[u];for(o in s){if(!r(s,o))continue;i=s[o],typeof i=="string"&&(i=this[i]);if(!i)continue;this._attachedViewEvents.push(n.delegate(o,i,u,this))}}return this},create:function(t){return t?e.one(t):e.Node.create(this.containerTemplate)},detachEvents:function(){return e.Array.each(this._attachedViewEvents,function(e){e&&e.detach()}),this._attachedViewEvents=[],this},remove:function(){var e=this.get("container");return e&&e.remove(),this},render:function(){return this},_destroyContainer:function(){var e=this.get("container");e&&e.remove(!0)},_getContainer:function(e){return this._container||(e?(this._container=e,this.attachEvents()):(e=this._container=this.create(),this._set("container",e))),e},_afterContainerChange:function(){this.attachEvents(this.events)}},{NAME:"view",ATTRS:{container:{getter:"_getContainer",setter:e.one,writeOnce:!0}},_NON_ATTRS_CFG:["containerTemplate","events","template"]})},"patched-v3.11.0",{requires:["base-build","node-event-delegate"]});YUI.add("datatable-body",function(e,t){var n=e.Lang,r=n.isArray,i=n.isNumber,s=n.isString,o=n.sub,u=e.Escape.html,a=e.Array,f=e.bind,l=e.Object,c=/\{value\}/g;e.namespace("DataTable").BodyView=e.Base.create("tableBody",e.View,[],{CELL_TEMPLATE:'<td {headers} class="{className}">{content}</td>',ROW_TEMPLATE:'<tr id="{rowId}" data-yui3-record="{clientId}" class="{rowClass}">{content}</tr>',TBODY_TEMPLATE:'<tbody class="{className}"></tbody>',getCell:function(t,n){var i=this.tbodyNode,o,u,a,f;if(t&&i){r(t)?(o=i.get("children").item(t[0]),u=o&&o.get("children").item(t[1])):e.instanceOf(t,e.Node)&&(u=t.ancestor("."+this.getClassName("cell"),!0));if(u&&n){f=i.get("firstChild.rowIndex");if(s(n))switch(n){case"above":n=[-1,0];break;case"below":n=[1,0];break;case"next":n=[0,1];break;case"previous":n=[0,-1]}r(n)&&(a=u.get("parentNode.rowIndex")+n[0]-f,o=i.get("children").item(a),a=u.get("cellIndex")+n[1],u=o&&o.get("children").item(a))}}return u||null},getClassName:function(){var t=this.host,n;return t&&t.getClassName?t.getClassName.apply(t,arguments):(n=a(arguments),n.unshift(this.constructor.NAME),e.ClassNameManager.getClassName.apply(e.ClassNameManager,n))},getRecord:function(t){var n=this.get("modelList"),r=this.tbodyNode,i=null,o;return r&&(s(t)&&(t=r.one("#"+t)),e.instanceOf(t,e.Node)&&(i=t.ancestor(function(e){return e.get("parentNode").compareTo(r)},!0),o=i&&n.getByClientId(i.getData("yui3-record")))),o||null},getRow:function(e){var t=this.tbodyNode,n=null;return t&&(e&&(e=this._idMap[e.get?e.get("clientId"):e]||e),n=i(e)?t.get("children").item(e):t.one("#"+e)),n},render:function(){var e=this.get("container"),t=this.get("modelList"),n=this.get("columns"),r=this.tbodyNode||(this.tbodyNode=this._createTBodyNode());return this._createRowTemplate(n),t&&(r.setHTML(this._createDataHTML(n)),this._applyNodeFormatters(r,n)),r.get("parentNode")!==e&&e.appendChild(r),this.bindUI(),this},refreshRow:function(e,t,n){var r,i,s=n.length,o;for(o=0;o<s;o++)r=n[o],i=e.one("."+this.getClassName("col",r)),this.refreshCell(i,t);return this},refreshCell:function(t,n,r){var i,s,o,u=n.toJSON();t=this.getCell(t),n||(n=this.getRecord(t)),r||(r=this.getColumn(t));if(r.nodeFormatter)o={cell:t.one("."+this.getClassName("liner"))||t,column:r,data:u,record:n,rowIndex:this._getRowIndex(t.ancestor("tr")),td:t,value:u[r.key]},keep=r.nodeFormatter.call(host,o),keep===!1&&t.destroy(!0);else if(r.formatter){r._formatterFn||(r=this._setColumnsFormatterFn([r])[0]),s=r._formatterFn||null,s&&(o={value:u[r.key],data:u,column:r,record:n,className:"",rowClass:"",rowIndex:this._getRowIndex(t.ancestor("tr"))},i=s.call(this.get("host"),o),i===undefined&&(i=o.value));if(i===undefined||i===null||i==="")i=r.emptyCellValue||""}else i=u[r.key]||r.emptyCellValue||"";return t.setHTML(r.allowHTML?i:e.Escape.html(i)),this},getColumn:function(t){e.instanceOf(t,e.Node)&&(t=t.get("className").match(new RegExp(this.getClassName("col")+"-([^ ]*)"))[1]);var n=this.get("columns"),r=null;return e.Array.some(n,function(e){if(e.key===t)return r=e,!0}),r},_afterColumnsChange:function(){this.render()},_afterDataChange:function(t){var n=(t.type.match(/:(add|change|remove)$/)||[])[1],r=t.index,i=this.get("columns"),s,o=t.changed&&e.Object.keys(t.changed),u,a,f,l;for(f=0,l=i.length;f<l;f++){s=i[f];if(s.hasOwnProperty("nodeFormatter")){this.render();return}}switch(n){case"change":for(f=0,l=i.length;f<l;f++)s=i[f],u=s.key||s.name,s.formatter&&!t.changed[u]&&o.push(u);this.refreshRow(this.getRow(t.target),t.target,o);break;case"add":r=Math.min(r,this.get("modelList").size()-1),this._setColumnsFormatterFn(i),a=e.Node.create(this._createRowHTML(t.model,r,i)),this.tbodyNode.insert(a,r),this._restripe(r);break;case"remove":this.getRow(r).remove(!0),this._restripe(r-1);break;default:this.render()}},_restripe:function(e){var t=this._restripeTask,n;e=Math.max(e|0,0),t?t.index=Math.min(t.index,e):(n=this,this._restripeTask={timer:setTimeout(function(){if(!n||n.get("destroy")||!n.tbodyNode||!n.tbodyNode.inDoc()){n._restripeTask=null;return}var e=[n.CLASS_ODD,n.CLASS_EVEN],t=[n.CLASS_EVEN,n.CLASS_ODD],r=n._restripeTask.index;n.tbodyNode.get("childNodes").slice(r).each(function(n,i){n.replaceClass.apply(n,(r+i)%2?t:e)}),n._restripeTask=null},0),index:e})},_afterModelListChange:function(){var e=this._eventHandles;e.dataChange&&(e.dataChange.detach(),delete e.dataChange,this.bindUI()),this.tbodyNode&&this.render()},_applyNodeFormatters:function(e,t){var n=this.host||this,r=this.get("modelList"),i=[],s="."+this.getClassName("liner"),o,u,a;for(u=0,a=t.length;u<a;++u)t[u].nodeFormatter&&i.push(u);r&&i.length&&(o=e.get("childNodes"),r.each(function(e,r){var u={data:e.toJSON(),record:e,rowIndex:r},a=o.item(r),f,l,c,h,p,d,v;if(a){p=a.get("childNodes");for(f=0,l=i.length;f<l;++f)d=p.item(i[f]),d&&(c=u.column=t[i[f]],h=c.key||c.id,u.value=e.get(h),u.td=d,u.cell=d.one(s)||d,v=c.nodeFormatter.call(n,u),v===!1&&d.destroy(!0))}}))},bindUI:function(){var e=this._eventHandles,t=this.get("modelList"),n=t.model.NAME+":change";e.columnsChange||(e.columnsChange=this.after("columnsChange",f("_afterColumnsChange",this))),t&&!e.dataChange&&(e.dataChange=t.after(["add","remove","reset",n],f("_afterDataChange",this)))},_createDataHTML:function(e){var t=this.get("modelList"),n="";return t&&t.each(function(t,r){n+=this._createRowHTML(t,r,e)},this),n},_createRowHTML:function(e,t,n){var r=e.toJSON(),i=e.get("clientId"),s={rowId:this._getRowId(i),clientId:i,rowClass:t%2?this.CLASS_ODD:this.CLASS_EVEN},a=this.host||this,f,l,c,h,p,d;for(f=0,l=n.length;f<l;++f){c=n[f],p=r[c.key],h=c._id||c.key,s[h+"-className"]="",c._formatterFn&&(d={value:p,data:r,column:c,record:e,className:"",rowClass:"",rowIndex:t},p=c._formatterFn.call(a,d),p===undefined&&(p=d.value),s[h+"-className"]=d.className,s.rowClass+=" "+d.rowClass);if(!s.hasOwnProperty(h)||r.hasOwnProperty(c.key)){if(p===undefined||p===null||p==="")p=c.emptyCellValue||"";s[h]=c.allowHTML?p:u(p)}}return s.rowClass=s.rowClass.replace(/\s+/g," "),o(this._rowTemplate
,s)},_getRowIndex:function(e){var t=this.tbodyNode,n=1;if(t&&e){if(e.ancestor("tbody")!==t)return null;while(e=e.previous())n++}return n},_createRowTemplate:function(e){var t="",n=this.CELL_TEMPLATE,r,i,s,u,a,f,l,h;this._setColumnsFormatterFn(e);for(r=0,i=e.length;r<i;++r)s=e[r],u=s.key,a=s._id||u,h=s._formatterFn,f=(s._headers||[]).length>1?'headers="'+s._headers.join(" ")+'"':"",l={content:"{"+a+"}",headers:f,className:this.getClassName("col",a)+" "+(s.className||"")+" "+this.getClassName("cell")+" {"+a+"-className}"},!h&&s.formatter&&(l.content=s.formatter.replace(c,l.content)),s.nodeFormatter&&(l.content=""),t+=o(s.cellTemplate||n,l);this._rowTemplate=o(this.ROW_TEMPLATE,{content:t})},_setColumnsFormatterFn:function(t){var r=e.DataTable.BodyView.Formatters,i,s,o,u;for(o=0,u=t.length;o<u;o++)s=t[o],i=s.formatter,!s._formatterFn&&i&&(n.isFunction(i)?s._formatterFn=i:i in r&&(s._formatterFn=r[i].call(this.host||this,s)));return t},_createTBodyNode:function(){return e.Node.create(o(this.TBODY_TEMPLATE,{className:this.getClassName("data")}))},destructor:function(){(new e.EventHandle(l.values(this._eventHandles))).detach()},_getRowId:function(t){return this._idMap[t]||(this._idMap[t]=e.guid())},initializer:function(e){this.host=e.host,this._eventHandles={modelListChange:this.after("modelListChange",f("_afterModelListChange",this))},this._idMap={},this.CLASS_ODD=this.getClassName("odd"),this.CLASS_EVEN=this.getClassName("even")}},{Formatters:{}})},"patched-v3.11.0",{requires:["datatable-core","view","classnamemanager"]});YUI.add("datatable-core",function(e,t){var n=e.Attribute.INVALID_VALUE,r=e.Lang,i=r.isFunction,s=r.isObject,o=r.isArray,u=r.isString,a=r.isNumber,f=e.Array,l=e.Object.keys,c;c=e.namespace("DataTable").Core=function(){},c.ATTRS={columns:{validator:o,setter:"_setColumns",getter:"_getColumns"},recordType:{getter:"_getRecordType",setter:"_setRecordType"},data:{valueFn:"_initData",setter:"_setData",lazyAdd:!1},recordset:{setter:"_setRecordset",getter:"_getRecordset",lazyAdd:!1},columnset:{setter:"_setColumnset",getter:"_getColumnset",lazyAdd:!1}},e.mix(c.prototype,{getColumn:function(e){var t,n,r,i,u;s(e)&&!o(e)?t=e:t=this.get("columns."+e);if(t)return t;n=this.get("columns");if(a(e)||o(e)){e=f(e),u=n;for(r=0,i=e.length-1;u&&r<i;++r)u=u[e[r]]&&u[e[r]].children;return u&&u[e[r]]||null}return null},getRecord:function(e){var t=this.data.getById(e)||this.data.getByClientId(e);return t||(a(e)&&(t=this.data.item(e)),!t&&this.view&&this.view.getRecord&&(t=this.view.getRecord.apply(this.view,arguments))),t||null},_allowAdHocAttrs:!0,_afterColumnsChange:function(e){this._setColumnMap(e.newVal)},_afterDataChange:function(e){var t=e.newVal;this.data=e.newVal,!this.get("columns")&&t.size()&&this._initColumns()},_afterRecordTypeChange:function(e){var t=this.data.toJSON();this.data.model=e.newVal,this.data.reset(t),!this.get("columns")&&t&&(t.length?this._initColumns():this.set("columns",l(e.newVal.ATTRS)))},_createRecordClass:function(t){var n,r,i;if(o(t)){n={};for(r=0,i=t.length;r<i;++r)n[t[r]]={}}else s(t)&&(n=t);return e.Base.create("record",e.Model,[],null,{ATTRS:n})},destructor:function(){(new e.EventHandle(e.Object.values(this._eventHandles))).detach()},_getColumns:function(e,t){return t.length>8?this._columnMap:e},_getColumnset:function(e,t){return this.get(t.replace(/^columnset/,"columns"))},_getRecordType:function(e){return e||this.data&&this.data.model},_initColumns:function(){var e=this.get("columns")||[],t;!e.length&&this.data.size()&&(t=this.data.item(0),t.toJSON&&(t=t.toJSON()),this.set("columns",l(t))),this._setColumnMap(e)},_initCoreEvents:function(){this._eventHandles.coreAttrChanges=this.after({columnsChange:e.bind("_afterColumnsChange",this),recordTypeChange:e.bind("_afterRecordTypeChange",this),dataChange:e.bind("_afterDataChange",this)})},_initData:function(){var t=this.get("recordType"),n=new e.ModelList;return t&&(n.model=t),n},_initDataProperty:function(t){var n;this.data||(n=this.get("recordType"),t&&t.each&&t.toJSON?(this.data=t,n&&(this.data.model=n)):(this.data=new e.ModelList,n&&(this.data.model=n)),this.data.addTarget(this))},initializer:function(e){var t=e.data,n=e.columns,r;this._initDataProperty(t),n||(r=(e.recordType||e.data===this.data)&&this.get("recordType"),r?n=l(r.ATTRS):o(t)&&t.length&&(n=l(t[0])),n&&this.set("columns",n)),this._initColumns(),this._eventHandles={},this._initCoreEvents()},_setColumnMap:function(e){function n(e){var r,i,s,o;for(r=0,i=e.length;r<i;++r)s=e[r],o=s.key,o&&!t[o]&&(t[o]=s),t[s._id]=s,s.children&&n(s.children)}var t={};n(e),this._columnMap=t},_setColumns:function(t){function f(e){var t={},n,u,l;r.push(e),i.push(t);for(n in e)e.hasOwnProperty(n)&&(u=e[n],o(u)?t[n]=u.slice():s(u,!0)?(l=a(u,r),t[n]=l===-1?f(u):i[l]):t[n]=e[n]);return t}function l(e){return e=e.replace(/\s+/,"-"),n[e]?e+=n[e]++:n[e]=1,e}function c(t,n){var r=[],i,s,a,h;for(i=0,s=t.length;i<s;++i)r[i]=a=u(t[i])?{key:t[i]}:f(t[i]),h=e.stamp(a),a.id||(a.id=h),a.field&&(a.name=a.field),n?a._parent=n:delete a._parent,a._id=l(a.name||a.key||a.id),o(a.children)&&(a.children=c(a.children,a));return r}var n={},r=[],i=[],a=e.Array.indexOf;return t&&c(t)},_setColumnset:function(e){return this.set("columns",e),o(e)?e:n},_setData:function(e){e===null&&(e=[]);if(o(e))this._initDataProperty(),this.data.reset(e,{silent:!0}),e=this.data;else if(!e||!e.each||!e.toJSON)e=n;return e},_setRecordset:function(t){var n;return t&&e.Recordset&&t instanceof e.Recordset&&(n=[],t.each(function(e){n.push(e.get("data"))}),t=n),this.set("data",t),t},_setRecordType:function(e){var t;return i(e)&&e.prototype.toJSON&&e.prototype.setAttrs?t=e:s(e)&&(t=this._createRecordClass(e)),t||n}})},"patched-v3.11.0",{requires:["escape","model-list","node-event-delegate"]});YUI.add("datatable-base",function(e,t){e.DataTable.Base=e.Base.create("datatable",e.Widget,[e.DataTable.Core],{delegate:function(){var e=this.get("contentBox");return e.delegate.apply(e,arguments)},destructor:function(){this.view&&this.view.destroy()},getCell:function(){return this.view&&this.view.getCell&&this.view.getCell.apply(this.view,arguments)},getRow:function(){return this.view&&this.view.getRow&&this.view.getRow.apply(this.view,arguments)},_afterDisplayColumnsChange:function(e){this._extractDisplayColumns(e.newVal||[])},bindUI:function(){this._eventHandles.relayCoreChanges=this.after(["columnsChange","dataChange","summaryChange","captionChange","widthChange"],e.bind("_relayCoreAttrChange",this))},_defRenderViewFn:function(e){e.view.render()},_extractDisplayColumns:function(t){function r(t){var i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i],e.Lang.isArray(o.children)?r(o.children):n.push(o)}var n=[];r(t),this._displayColumns=n},initializer:function(){this.publish("renderView",{defaultFn:e.bind("_defRenderViewFn",this)}),this._extractDisplayColumns(this.get("columns")||[]),this.after("columnsChange",e.bind("_afterDisplayColumnsChange",this))},_relayCoreAttrChange:function(e){var t=e.attrName==="data"?"modelList":e.attrName;this.view.set(t,e.newVal)},renderUI:function(){var t=this,n=this.get("view");n&&(this.view=new n(e.merge(this.getAttrs(),{host:this,container:this.get("contentBox"),modelList:this.data},this.get("viewConfig"))),this._eventHandles.legacyFeatureProps||(this._eventHandles.legacyFeatureProps=this.view.after({renderHeader:function(e){t.head=e.view,t._theadNode=e.view.theadNode,t._tableNode=e.view.get("container")},renderFooter:function(e){t.foot=e.view,t._tfootNode=e.view.tfootNode,t._tableNode=e.view.get("container")},renderBody:function(e){t.body=e.view,t._tbodyNode=e.view.tbodyNode,t._tableNode=e.view.get("container")},renderTable:function(){var e=this.get("container");t._tableNode=this.tableNode||e.one("."+this.getClassName("table")+", table"),t._captionNode=this.captionNode||e.one("caption"),t._theadNode||(t._theadNode=e.one("."+this.getClassName("columns")+", thead")),t._tbodyNode||(t._tbodyNode=e.one("."+this.getClassName("data")+", tbody")),t._tfootNode||(t._tfootNode=e.one("."+this.getClassName("footer")+", tfoot"))}})),this.view.addTarget(this))},syncUI:function(){this.view&&this.fire("renderView",{view:this.view})},_validateView:function(t){return t===null||e.Lang.isFunction(t)&&t.prototype.render}},{ATTRS:{view:{value:e.DataTable.TableView,validator:"_validateView"},viewConfig:{}}}),e.DataTable=e.mix(e.Base.create("datatable",e.DataTable.Base,[]),e.DataTable)},"patched-v3.11.0",{requires:["datatable-core","datatable-table","datatable-head","datatable-body","base-build","widget"],skinnable:!0});YUI.add("model-list",function(e,t){function c(){c.superclass.constructor.apply(this,arguments)}var n=e.Attribute.prototype,r=e.Lang,i=e.Array,s="add",o="create",u="error",a="load",f="remove",l="reset";e.ModelList=e.extend(c,e.Base,{model:e.Model,_isYUIModelList:!0,initializer:function(t){t||(t={});var n=this.model=t.model||this.model;typeof n=="string"&&(this.model=e.Object.getValue(e,n.split(".")),this.model||e.error("ModelList: Model class not found: "+n)),this.publish(s,{defaultFn:this._defAddFn}),this.publish(l,{defaultFn:this._defResetFn}),this.publish(f,{defaultFn:this._defRemoveFn}),this.after("*:idChange",this._afterIdChange),this._clear(),t.items&&this.add(t.items,{silent:!0})},destructor:function(){this._clear()},add:function(t,n){var s=t._isYUIModelList;return s||r.isArray(t)?i.map(s?t.toArray():t,function(t,r){var i=n||{};return"index"in i&&(i=e.merge(i,{index:i.index+r})),this._add(t,i)},this):this._add(t,n)},create:function(t,n,r){var i=this;return typeof n=="function"&&(r=n,n={}),n||(n={}),t._isYUIModel||(t=new this.model(t)),i.fire(o,e.merge(n,{model:t})),t.save(n,function(e){e||i.add(t,n),r&&r.apply(null,arguments)})},each:function(e,t){var n=this._items.concat(),r,i,s;for(r=0,s=n.length;r<s;r++)i=n[r],e.call(t||i,i,r,this);return this},filter:function(e,t){var n=[],r=this._items,i,s,o,u;typeof e=="function"&&(t=e,e={});for(i=0,o=r.length;i<o;++i)s=r[i],t.call(this,s,i,this)&&n.push(s);return e.asList?(u=new this.constructor({model:this.model}),n.length&&u.add(n,{silent:!0}),u):n},get:function(e){return this.attrAdded(e)?n.get.apply(this,arguments):this.invoke("get",e)},getAsHTML:function(t){return this.attrAdded(t)?e.Escape.html(n.get.apply(this,arguments)):this.invoke("getAsHTML",t)},getAsURL:function(e){return this.attrAdded(e)?encodeURIComponent(n.get.apply(this,arguments)):this.invoke("getAsURL",e)},getByClientId:function(e){return this._clientIdMap[e]||null},getById:function(e){return this._idMap[e]||null},invoke:function(e){var t=[this._items,e].concat(i(arguments,1,!0));return i.invoke.apply(i,t)},load:function(e,t){var n=this;return typeof e=="function"&&(t=e,e={}),e||(e={}),this.sync("read",e,function(r,i){var s={options:e,response:i},o;r?(s.error=r,s.src="load",n.fire(u,s)):(n._loadEvent||(n._loadEvent=n.publish(a,{preventable:!1})),o=s.parsed=n._parse(i),n.reset(o,e),n.fire(a,s)),t&&t.apply(null,arguments)}),this},map:function(e,t){return i.map(this._items,e,t)},parse:function(t){if(typeof t=="string")try{return e.JSON.parse(t)||[]}catch(n){return this.fire(u,{error:n,response:t,src:"parse"}),null}return t||[]},remove:function(e,t){var n=e._isYUIModelList;return n||r.isArray(e)?(e=i.map(n?e.toArray():e,function(e){return r.isNumber(e)?this.item(e):e},this),i.map(e,function(e){return this._remove(e,t)},this)):this._remove(e,t)},reset:function(t,n){t||(t=[]),n||(n={});var r=e.merge({src:"reset"},n);return t._isYUIModelList?t=t.toArray():t=i.map(t,function(e){return e._isYUIModel?e:new this.model(e)},this),r.models=t,n.silent?this._defResetFn(r):(this.comparator&&t.sort(e.bind(this._sort,this)),this.fire(l,r)),this},some:function(e,t){var n=this._items.concat(),r,i,s;for(r=0,s=n.length;r<s;r++){i=n[r];if(e.call(t||i,i,r,this))return!0}return!1},sort:function(t){if(!this.comparator)return this;var n=this._items.concat(),r;return t||(t={}),n.sort(e.bind(this._sort,this)),r=e.merge(t,{models:n,src:"sort"}),t.silent?this._defResetFn(r):this.fire(l,r),this},sync:function(){var e=i(arguments,0,!0).pop();typeof e=="function"&&e()},toArray:function(){return this._items.concat()},toJSON:function(){return this.map(function(e){return e.toJSON()})},_add:function(t,n){var i,o;n||(n={}),t._isYUIModel||(t=new this.model(t)),o=t.get("id");if(this._clientIdMap[t.get("clientId")]||r.isValue(o)&&this._idMap[o]){this.fire(u,{error:"Model is already in the list.",model:t,src:"add"});return}return i=e.merge(n,{index:"index"in n?n.index:this._findIndex(t),model:t}),n.silent?this._defAddFn(i):this.fire(s,i),t},_attachList:function(e){e.lists.push(this),e.addTarget(this)},_clear:function(){i.each(this._items,this._detachList,this),this._clientIdMap={},this._idMap={},this._items=[]},_compare:function(e,t){return e<t?-1:e>t?1:0},_detachList:function(e){var t=i.indexOf(e.lists,this);t>-1&&(e.lists.splice(t,1),e.removeTarget(this))},_findIndex:function(e){var t=this._items,n=t.length,r=0,i,s,o;if(!this.comparator||!n)return n;o=this.comparator(e);while(r<n)s=r+n>>1,i=t[s],this._compare(this.comparator(i),o)<0?r=s+1:n=s;return r},_parse:function(e){return this.parse(e)},_remove:function(t,n){var i,s;n||(n={}),r.isNumber(t)?(i=t,t=this.item(i)):i=this.indexOf(t);if(i===-1||!t){this.fire(u,{error:"Model is not in the list.",index:i,model:t,src:"remove"});return}return s=e.merge(n,{index:i,model:t}),n.silent?this._defRemoveFn(s):this.fire(f,s),t},_sort:function(e,t){return this._compare(this.comparator(e),this.comparator(t))},_afterIdChange:function(e){var t=e.newVal,n=e.prevVal,i=e.target;if(r.isValue(n)){if(this._idMap[n]!==i)return;delete this._idMap[n]}else if(this.indexOf(i)===-1)return;r.isValue(t)&&(this._idMap[t]=i)},_defAddFn:function(e){var t=e.model,n=t.get("id");this._clientIdMap[t.get("clientId")]=t,r.isValue(n)&&(this._idMap[n]=t),this._attachList(t),this._items.splice(e.index,0,t)},_defRemoveFn:function(e){var t=e.model,n=t.get("id");this._detachList(t),delete this._clientIdMap[t.get("clientId")],r.isValue(n)&&delete this._idMap[n],this._items.splice(e.index,1)},_defResetFn:function(e){if(e.src==="sort"){this._items=e.models.concat();return}this._clear(),e.models.length&&this.add(e.models,{silent:!0})}},{NAME:"modelList"}),e.augment(c,e.ArrayList)},"patched-v3.11.0",{requires:["array-extras","array-invoke","arraylist","base-build","escape","json-parse","model"]});AUI.add("liferay-search-container",function(a){var d=a.Lang;var c="lfr-template";var b=a.Component.create({NAME:"searchcontainer",ATTRS:{classNameHover:{value:""},hover:{value:""},id:{value:""},rowClassNameAlternate:{value:""},rowClassNameAlternateHover:{value:""},rowClassNameBody:{value:""},rowClassNameBodyHover:{value:""}},constructor:function(e){var f=e.id;e.boundingBox=e.boundingBox||"#"+f;e.contentBox=e.contentBox||"#"+e.id+"SearchContainer";b.superclass.constructor.apply(this,arguments)},get:function(g){var e=this;var f=null;if(e._cache[g]){f=e._cache[g]}else{f=new b({id:g}).render()}return f},prototype:{initializer:function(){var e=this;e._ids=[]},renderUI:function(){var e=this;var g=e.get("id");var f=e.get("contentBox");e._dataStore=a.one("#"+g+"PrimaryKeys");e._table=f.one("table");e._parentContainer=f.ancestor(".lfr-search-container");if(e._table){e._table.setAttribute("data-searchContainerId",g);b.register(e)}},bindUI:function(){var e=this;e.publish("addRow",{defaultFn:e._addRow});e.publish("deleteRow",{defaultFn:e._deleteRow});if(e.get("hover")){var h=e.get("classNameHover");var j=e.get("rowClassNameAlternate");var g=e.get("rowClassNameAlternateHover");var i=e.get("rowClassNameBody");var f=e.get("rowClassNameBodyHover");e._hoverHandle=e.get("contentBox").delegate(["mouseenter","mouseleave"],function(o){var n=(o.type=="mouseenter");var q=o.currentTarget;var l=g;var m=g;var k=j;var p=i;if(n){l=j;m=i;k=g;p=f}if(q.hasClass(k)){q.replaceClass(k,l)}else{if(q.hasClass(p)){q.replaceClass(p,m)}}q.toggleClass(h,n)},"tr")}},syncUI:function(){var e=this;var f=e._dataStore;var g=f&&f.val();if(g){g=g.split(",");e.updateDataStore(g)}},addRow:function(f,j){var e=this;var i;if(j){var h=e._table.one("."+c);if(h){i=h.clone();var g=i.all("> td");g.empty();a.each(f,function(m,l,n){var k=g.item(l);if(k){k.html(m)}});h.placeBefore(i);i.removeClass(c);e._ids.push(j)}e.updateDataStore();e.fire("addRow",{id:j,ids:e._ids,row:i,rowData:f})}return i},deleteRow:function(g,i){var e=this;if(d.isNumber(g)||d.isString(g)){var h=null;e._table.all("tr").some(function(k,j,l){if(!k.hasClass(c)&&j==g){h=k}return h});g=h}else{g=a.one(g)}if(i){var f=a.Array.indexOf(e._ids,i.toString());if(f>-1){e._ids.splice(f,1);e.updateDataStore()}}e.fire("deleteRow",{id:i,ids:e._ids,row:g});if(g){if(g.get("nodeName").toLowerCase()!=="tr"){g=g.ancestor("tr")}g.remove(true)}},getData:function(f){var e=this;var g=e._ids;if(!f){g=g.join(",")}return g},updateDataStore:function(g){var e=this;if(g){if(typeof g=="string"){g=g.split(",")}e._ids=g}var f=e._dataStore;if(f){f.val(e._ids.join(","))}},_addRow:function(f){var e=this;e._parentContainer.show()},_deleteRow:function(f){var e=this;var g="hide";if(e._ids.length){g="show"}e._parentContainer[g]()}},register:function(f){var e=this;var g=f.get("id");e._cache[g]=f},_cache:{}});Liferay.SearchContainer=b},"",{requires:["aui-base","aui-component","event-mouseenter"]});AUI.add("liferay-store",function(b){var c=b.Lang;var a=c.isObject;var e="serialize://";var d=function(g,h){var f=d;var i;if(c.isFunction(h)){i="get";if(c.isArray(g)){i="getAll"}}else{i="set";if(a(g)){i="setAll"}else{if(arguments.length==1){i=null}}}if(i){f[i].apply(d,arguments)}};b.mix(d,{get:function(g,h){var f=this;f._getValues("get",g,h)},getAll:function(g,h){var f=this;f._getValues("getAll",g,h)},set:function(g,h){var f=this;var i={};if(a(h)){h=e+b.JSON.stringify(h)}i[g]=h;f._setValues(i)},setAll:function(g){var f=this;f._setValues(g)},_getValues:function(i,h,j){var f=this;var g={after:{success:function(l){var k=this.get("responseData");if(c.isString(k)&&k.indexOf(e)===0){try{k=b.JSON.parse(k.substring(e.length))}catch(m){}}j(k)}},data:{cmd:i}};g.data.key=h;if(i=="getAll"){g.dataType="json"}f._ioRequest(g)},_ioRequest:function(g){var f=this;g.data.p_auth=Liferay.authToken;b.io.request(themeDisplay.getPathMain()+"/portal/session_click",g)},_setValues:function(g){var f=this;f._ioRequest({data:g})}});Liferay.Store=d},"",{requires:["aui-io-request"]});AUI.add("liferay-ajax-session",function(b){var c=b.Lang;var a=b.Component.create({EXTENDS:b.IORequest,prototype:{initializer:function(){var d=this;if(Liferay.Session){d.after("complete",d._resetSessionInterval,d)}},_resetSessionInterval:function(f,h,g,e){var d=this;if(!e||(e&&(e.sessionExtend||!c.isBoolean(e.sessionExtend)))){Liferay.Session.resetInterval()}}}});b._IORequest=b.IORequest;b.IORequest=a},"",{requires:["aui-io-request","liferay-session"]});